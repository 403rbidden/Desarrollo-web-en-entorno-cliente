<!DOCTYPE html>
<html lang="es">

    <head>
        <meta charset="UTF-8">
        <title>Desarrollo web en entorno cliente</title>
    </head>

    <body>
        <h1>üßÆ Operaciones con n√∫meros</h1>

        <label for="numero">Introduce un n√∫mero entre 1 y 50:</label>
        <!-- El type="number" en el input restringe la entrada a solo valores num√©ricos-->
        <input type="number" id="numero" min="1" max="50">
        <button onclick="calcularOperaciones()">Calcular</button>

        <script>
            function calcularOperaciones() {
                // Obtener el valor del n√∫mero ingresado por el usuario
                const numero = parseInt(document.getElementById('numero').value);

                // Verificar que el n√∫mero est√© en el rango permitido
                //No se ha incluido la condici√≥n isNaN(numero) porque ya est√° delimitado en el input type="number"
                if (numero < 1 || numero > 50) {
                    document.getElementById('resultadoError').innerHTML = `<p>Por favor, ingrese un n√∫mero v√°lido que est√© comprendido entre 1 y 50.</p>
                            <button onclick="limpiarResultados() ">Limpiar</button>`;
                    return;
                }

                // Inicializar variable para la suma
                let suma = 0;
                // Inicializar variable para los n√∫meros pares
                let cantidadPares = 0;
                // Inicializar variable para los n√∫meros impares
                let cantidadImpares = 0;

                // Calcular la suma, la cantidad de n√∫meros pares e impares
                for (let i = 1; i <= numero; i++) {
                    suma += i;
                    // El operador m√≥dulo devuelve el resto de la divisi√≥n entre dos n√∫meros
                    // Se divide "i" entre 2 para comprobar si es par
                    if (i % 2 === 0) {
                        // Si el resultado es 0, el n√∫mero es par
                        cantidadPares++;
                    } else {
                        // Si el resultado es diferente a 0, es impar
                        cantidadImpares++;
                    }
                }

                // Calcular la media
                const media = suma / numero;

                // Mostrar los resultados
                document.getElementById('resultado').innerHTML = `
                    <p style="font-weight: bold;">Conclusiones:</p>

                    <ul>
                        <li>La suma de todos los n√∫meros comprendidos entre 1 y ${numero} es de ${suma}.</li>
                        <li>La media de todos los n√∫meros es ${media}.</li>
                        <li>Hay un total de ${cantidadPares} n√∫meros pares.</li>
                        <li>Y un total de ${cantidadImpares} n√∫meros impares.</li>
                    </ul>

                    <button onclick="limpiarResultados()">Limpiar</button>
                `;
            }

            // Con el argumento "reload(true)" se recarga la p√°gina desde el servidor
            /* Se ha utiizado el m√©todo "location.reload();" por haber utilizado previamente 
             la palabra clave "let" al declarar las varaibles*/
            function limpiarResultados() {
                window.location.reload(true);
            }
        </script>

        <p id="resultado"></p>

        <!--Mostrar mensaje de error-->
        <p id="resultadoError" style="color:red;"></p>
    </body>

</html>